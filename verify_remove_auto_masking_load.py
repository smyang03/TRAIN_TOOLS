#!/usr/bin/env python3
"""
ë§ˆìŠ¤í‚¹ ìë™ ë¡œë“œ ì œê±° ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
====================================

ë¬¸ì œ: l í‚¤ë¥¼ ëˆ„ë¥´ì§€ ì•Šì•˜ëŠ”ë°ë„ í˜ì´ì§€ ì´ë™ ì‹œ ìë™ìœ¼ë¡œ ë§ˆìŠ¤í‚¹ì´ ë¡œë“œë¨
"""

print("=" * 80)
print("ë§ˆìŠ¤í‚¹ ìë™ ë¡œë“œ ì œê±° ê²€ì¦")
print("=" * 80)
print()

print("ğŸ› ì‚¬ìš©ì ë³´ê³ :")
print()
print("ë¡œê·¸:")
print("  'ë§ˆìŠ¤í‚¹ ë¡œë“œë¨: 634 í”½ì…€'")
print("  'ë§ˆìŠ¤í‚¹ ë¡œë“œë¨: 26 í”½ì…€'")
print("  ...")
print()
print("ë¬¸ì œ:")
print("  - l í‚¤ë¥¼ ëˆ„ë¥´ì§€ ì•Šì•˜ëŠ”ë°ë„ í˜ì´ì§€ ì´ë™í•  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ ë§ˆìŠ¤í‚¹ ë¡œë“œ")
print("  - ë§ˆìŠ¤í‚¹ì„ ë§Œë“¤ë©´ ìë™ìœ¼ë¡œ ë‹¤ë¥¸ ì´ë¯¸ì§€ì—ë„ ì ìš©ë¨")
print()
print("ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ë™ì‘:")
print("  - s í‚¤: í˜„ì¬ ë§ˆìŠ¤í‚¹ì„ ë©”ëª¨ë¦¬ì— ë³µì‚¬")
print("  - l í‚¤: ë³µì‚¬ëœ ë§ˆìŠ¤í‚¹ì„ í˜„ì¬ ì´ë¯¸ì§€ì— ë¶™ì—¬ë„£ê¸°")
print("  - ìë™ ë¡œë“œ ì•ˆ ë¨: í˜ì´ì§€ ì´ë™ ì‹œ ìë™ìœ¼ë¡œ ë§ˆìŠ¤í‚¹ ì ìš© ì•ˆ ë¨")
print()

print("=" * 80)
print("ê·¼ë³¸ ì›ì¸ ë¶„ì„")
print("=" * 80)
print()

print("ğŸ” ë¬¸ì œ: draw_image()ì—ì„œ ë§ˆìŠ¤í‚¹ ìë™ ë¡œë“œ")
print("-" * 80)
print()
print("\033[93m[ê¸°ì¡´ ì½”ë“œ]\033[0m")
print()
print("""def draw_image(self):
    # ì´ë¯¸ì§€ ë¡œë“œ
    im = Image.open(self.im_fn)

    # ê¸°ì¡´ì— ì €ì¥ëœ ë§ˆìŠ¤í‚¹ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê³  ë¡œë“œ
    has_masking = False
    try:
        temp_array = array(im)
        existing_masking = np.where((temp_array==[255,0,255]).all(axis=2))

        if len(existing_masking[0]) > 0:
            # ì´ë¯¸ ë§ˆìŠ¤í‚¹ì´ ì ìš©ëœ ì´ë¯¸ì§€ì¸ ê²½ìš°
            self.current_img_array = temp_array
            self.masking = existing_masking
            self.has_saved_masking = True
            has_masking = True
            print(f"ë§ˆìŠ¤í‚¹ ë¡œë“œë¨: {len(existing_masking[0])} í”½ì…€")  # âœ— ìë™ ë¡œë“œ!
    except Exception as e:
        print(f"ë§ˆìŠ¤í‚¹ ë³µì› ì¤‘ ì˜¤ë¥˜: {e}")

    # ë§ˆìŠ¤í‚¹ì´ ìˆìœ¼ë©´ ë§ˆìŠ¤í‚¹ëœ ì´ë¯¸ì§€ ì‚¬ìš©
    if has_masking:
        display_img = Image.fromarray(self.current_img_array)
        im = display_img.resize(self.imsize, Image.LANCZOS)  # âœ— ë§ˆìŠ¤í‚¹ í‘œì‹œ!
    else:
        im = im.resize(self.imsize, Image.LANCZOS)""")
print()

print("\033[91m[ë¬¸ì œì ]\033[0m")
print("\033[91mâœ— - í˜ì´ì§€ ì´ë™í•  ë•Œë§ˆë‹¤ draw_image() í˜¸ì¶œ\033[0m")
print("\033[91mâœ— - draw_image()ê°€ íŒŒì¼ì˜ ë§ˆìŠ¤í‚¹ì„ ìë™ìœ¼ë¡œ ë¡œë“œ\033[0m")
print("\033[91mâœ— - í™”ë©´ì— ë§ˆìŠ¤í‚¹ ìë™ í‘œì‹œ\033[0m")
print("\033[91mâœ— - ê²°ê³¼: l í‚¤ë¥¼ ëˆ„ë¥´ì§€ ì•Šì•˜ëŠ”ë°ë„ ë§ˆìŠ¤í‚¹ì´ í‘œì‹œë¨!\033[0m")
print()

print("\033[92m[ìˆ˜ì • í›„]\033[0m")
print()
print("""def draw_image(self):
    # ì´ë¯¸ì§€ ë¡œë“œ
    im = Image.open(self.im_fn)

    # ë§ˆìŠ¤í‚¹ ìë™ ë¡œë“œ ì œê±° - s/l í‚¤ë¡œë§Œ ë³µì‚¬/ë¶™ì—¬ë„£ê¸° ê°€ëŠ¥
    self.imsize = im.size
    self.imsize = [(int)(i * self.zoom_ratio) for i in im.size]
    self.original_width = im.width
    self.original_height = im.height

    # ì›ë³¸ ì´ë¯¸ì§€ë§Œ í‘œì‹œ (ë§ˆìŠ¤í‚¹ ìë™ í‘œì‹œí•˜ì§€ ì•ŠìŒ)
    im = im.resize(self.imsize, Image.LANCZOS)  # âœ“ ì›ë³¸ë§Œ í‘œì‹œ""")
print()

print("=" * 80)
print("ì›Œí¬í”Œë¡œìš° ë¹„êµ")
print("=" * 80)
print()

print("ì‹œë‚˜ë¦¬ì˜¤ 1: ë§ˆìŠ¤í‚¹ ë³µì‚¬/ë¶™ì—¬ë„£ê¸°")
print("-" * 80)
print()
print("1ï¸âƒ£ ê¸°ì¡´ ë™ì‘ (ë²„ê·¸)")
print("  1. ì²« ì´ë¯¸ì§€ì—ì„œ m í‚¤ë¡œ ë§ˆìŠ¤í‚¹ ìƒì„±")
print("  2. s í‚¤ë¡œ ë©”ëª¨ë¦¬ì— ë³µì‚¬")
print("  3. ë‹¤ìŒ ì´ë¯¸ì§€ë¡œ ì´ë™")
print("\033[91mâœ—  4. draw_image()ê°€ ìë™ìœ¼ë¡œ ë§ˆìŠ¤í‚¹ ë¡œë“œ (l í‚¤ ì•ˆ ëˆŒë €ëŠ”ë°!)\033[0m")
print("\033[91mâœ—  5. 'ë§ˆìŠ¤í‚¹ ë¡œë“œë¨: X í”½ì…€' ë¡œê·¸ ì¶œë ¥\033[0m")
print("\033[91mâœ—  6. í™”ë©´ì— ë§ˆìŠ¤í‚¹ ìë™ í‘œì‹œ\033[0m")
print()

print("2ï¸âƒ£ ìˆ˜ì •ëœ ë™ì‘")
print("  1. ì²« ì´ë¯¸ì§€ì—ì„œ m í‚¤ë¡œ ë§ˆìŠ¤í‚¹ ìƒì„±")
print("  2. s í‚¤ë¡œ ë©”ëª¨ë¦¬ì— ë³µì‚¬")
print("  3. ë‹¤ìŒ ì´ë¯¸ì§€ë¡œ ì´ë™")
print("\033[92mâœ“  4. draw_image()ê°€ ì›ë³¸ ì´ë¯¸ì§€ë§Œ í‘œì‹œ\033[0m")
print("\033[92mâœ“  5. ë§ˆìŠ¤í‚¹ ìë™ ë¡œë“œ ì•ˆ ë¨\033[0m")
print("\033[92mâœ“  6. l í‚¤ë¥¼ ëˆŒëŸ¬ì•¼ë§Œ ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸°ë¨\033[0m")
print()

print("ì‹œë‚˜ë¦¬ì˜¤ 2: labelâ†’mask í›„ í˜ì´ì§€ ì´ë™")
print("-" * 80)
print()
print("1ï¸âƒ£ ê¸°ì¡´ ë™ì‘ (ë²„ê·¸)")
print("  1. ë¼ë²¨ ì„ íƒ â†’ Del í‚¤ â†’ labelâ†’mask ë³€í™˜")
print("  2. ë§ˆìŠ¤í‚¹ì´ íŒŒì¼ì— ì €ì¥ë¨")
print("  3. ë‹¤ìŒ ì´ë¯¸ì§€ë¡œ ì´ë™")
print("\033[91mâœ—  4. draw_image()ê°€ ì´ì „ ì´ë¯¸ì§€ì˜ ë§ˆìŠ¤í‚¹ ìë™ ë¡œë“œ\033[0m")
print("\033[91mâœ—  5. 'ë§ˆìŠ¤í‚¹ ë¡œë“œë¨: X í”½ì…€' ë¡œê·¸ ì¶œë ¥\033[0m")
print()

print("2ï¸âƒ£ ìˆ˜ì •ëœ ë™ì‘")
print("  1. ë¼ë²¨ ì„ íƒ â†’ Del í‚¤ â†’ labelâ†’mask ë³€í™˜")
print("  2. ë§ˆìŠ¤í‚¹ì´ íŒŒì¼ì— ì €ì¥ë¨")
print("  3. ë‹¤ìŒ ì´ë¯¸ì§€ë¡œ ì´ë™")
print("\033[92mâœ“  4. draw_image()ê°€ ì›ë³¸ ì´ë¯¸ì§€ë§Œ í‘œì‹œ\033[0m")
print("\033[92mâœ“  5. ë§ˆìŠ¤í‚¹ ìë™ ë¡œë“œ ì•ˆ ë¨\033[0m")
print()

print("=" * 80)
print("s/l í‚¤ ì›Œí¬í”Œë¡œìš°")
print("=" * 80)
print()

print("âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš©ë²•:")
print()
print("1ï¸âƒ£ ë§ˆìŠ¤í‚¹ ìƒì„± ë° ë³µì‚¬")
print("  - m í‚¤: ë§ˆìŠ¤í‚¹ ëª¨ë“œ ì‹œì‘")
print("  - ë§ˆìš°ìŠ¤ë¡œ ë§ˆìŠ¤í‚¹ ê·¸ë¦¬ê¸°")
print("  - s í‚¤: ë©”ëª¨ë¦¬ì— ë³µì‚¬ (ì €ì¥)")
print()

print("2ï¸âƒ£ ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸°")
print("  - ë‹¤ë¥¸ ì´ë¯¸ì§€ë¡œ ì´ë™")
print("  - l í‚¤: ë³µì‚¬ëœ ë§ˆìŠ¤í‚¹ì„ í˜„ì¬ ì´ë¯¸ì§€ì— ë¶™ì—¬ë„£ê¸°")
print("  - íŒŒì¼ì— ì €ì¥ë¨")
print()

print("3ï¸âƒ£ ì—¬ëŸ¬ ì´ë¯¸ì§€ì— ë°˜ë³µ")
print("  - ë‹¤ìŒ ì´ë¯¸ì§€ë¡œ ì´ë™")
print("  - l í‚¤: ë¶™ì—¬ë„£ê¸°")
print("  - ë°˜ë³µ...")
print()

print("=" * 80)
print("ìˆ˜ì • ìš”ì•½")
print("=" * 80)
print()

print("1ï¸âƒ£ draw_image() ìˆ˜ì • (ë¼ì¸ 2141-2148)")
print("-" * 80)
print("\033[92mâœ“ - ë§ˆìŠ¤í‚¹ ìë™ ë¡œë“œ ì½”ë“œ ì œê±° (has_masking í”Œë˜ê·¸ ì œê±°)\033[0m")
print("\033[92mâœ“ - 'ë§ˆìŠ¤í‚¹ ë¡œë“œë¨' ë¡œê·¸ ì œê±°\033[0m")
print("\033[92mâœ“ - ì›ë³¸ ì´ë¯¸ì§€ë§Œ í‘œì‹œ\033[0m")
print("\033[92mâœ“ - s/l í‚¤ë¡œë§Œ ë§ˆìŠ¤í‚¹ ë³µì‚¬/ë¶™ì—¬ë„£ê¸° ê°€ëŠ¥\033[0m")
print()

print("=" * 80)
print("ì˜ˆìƒ ê²°ê³¼")
print("=" * 80)
print()

print("âœ… ìˆ˜ì • íš¨ê³¼:")
print("\033[92mâœ“ 1. í˜ì´ì§€ ì´ë™ ì‹œ ë§ˆìŠ¤í‚¹ ìë™ ë¡œë“œ ì•ˆ ë¨\033[0m")
print("\033[92mâœ“ 2. 'ë§ˆìŠ¤í‚¹ ë¡œë“œë¨' ë¡œê·¸ ì¶œë ¥ ì•ˆ ë¨\033[0m")
print("\033[92mâœ“ 3. s í‚¤ë¡œë§Œ ë§ˆìŠ¤í‚¹ ë³µì‚¬\033[0m")
print("\033[92mâœ“ 4. l í‚¤ë¡œë§Œ ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸°\033[0m")
print("\033[92mâœ“ 5. ëª…ì‹œì  ë³µì‚¬/ë¶™ì—¬ë„£ê¸° ë°©ì‹ìœ¼ë¡œ ë™ì‘\033[0m")
print()

print("ğŸ” ì¤‘ìš”:")
print("  - ê¸°ì¡´ 'ëª‡ í˜ì´ì§€ì—ì„œ ëª‡ í˜ì´ì§€ê¹Œì§€' ë³µì‚¬ ê¸°ëŠ¥ì€ ìœ ì§€ë¨")
print("  - copy_masking_to_range() í•¨ìˆ˜ëŠ” ë³€ê²½í•˜ì§€ ì•ŠìŒ")
print()

print("=" * 80)
print("í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸")
print("=" * 80)
print()

print("[ ] 1. ë§ˆìŠ¤í‚¹ ìƒì„± í›„ í˜ì´ì§€ ì´ë™")
print("      - m í‚¤ë¡œ ë§ˆìŠ¤í‚¹ ìƒì„±")
print("      - ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™")
print("      - ë§ˆìŠ¤í‚¹ì´ ìë™ìœ¼ë¡œ í‘œì‹œë˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸")
print("      - 'ë§ˆìŠ¤í‚¹ ë¡œë“œë¨' ë¡œê·¸ê°€ ì¶œë ¥ë˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸")
print()

print("[ ] 2. s/l í‚¤ ë³µì‚¬/ë¶™ì—¬ë„£ê¸°")
print("      - m í‚¤ë¡œ ë§ˆìŠ¤í‚¹ ìƒì„±")
print("      - s í‚¤ë¡œ ë³µì‚¬")
print("      - ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™")
print("      - l í‚¤ë¡œ ë¶™ì—¬ë„£ê¸°")
print("      - ë§ˆìŠ¤í‚¹ì´ í™”ë©´ì— í‘œì‹œë˜ëŠ”ì§€ í™•ì¸")
print()

print("[ ] 3. labelâ†’mask í›„ í˜ì´ì§€ ì´ë™")
print("      - ë¼ë²¨ ì„ íƒ â†’ Del í‚¤")
print("      - ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™")
print("      - ë§ˆìŠ¤í‚¹ì´ ìë™ìœ¼ë¡œ í‘œì‹œë˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸")
print()

print("=" * 80)
print("ê²°ë¡ ")
print("=" * 80)
print()

print("\033[92mâœ… ë§ˆìŠ¤í‚¹ ìë™ ë¡œë“œ ì œê±° ì™„ë£Œ\033[0m")
print()
print("ìˆ˜ì •ëœ í•¨ìˆ˜:")
print("\033[92mâœ“ 1. draw_image() - ë§ˆìŠ¤í‚¹ ìë™ ë¡œë“œ ì œê±°\033[0m")
print()
print("ì˜ˆìƒ íš¨ê³¼:")
print("\033[92mâœ“ âœ“ s í‚¤ë¡œë§Œ ë§ˆìŠ¤í‚¹ ë³µì‚¬\033[0m")
print("\033[92mâœ“ âœ“ l í‚¤ë¡œë§Œ ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸°\033[0m")
print("\033[92mâœ“ âœ“ í˜ì´ì§€ ì´ë™ ì‹œ ë§ˆìŠ¤í‚¹ ìë™ ë¡œë“œ ì•ˆ ë¨\033[0m")
print("\033[92mâœ“ âœ“ ëª…ì‹œì  ë³µì‚¬/ë¶™ì—¬ë„£ê¸° ë°©ì‹ìœ¼ë¡œ ì •ìƒ ë™ì‘\033[0m")
print()
print("\033[94mì»¤ë°‹ ì¤€ë¹„ ì™„ë£Œ âœ“\033[0m")
