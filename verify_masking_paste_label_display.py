#!/usr/bin/env python3
"""
ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸° í›„ ë¼ë²¨ í‘œì‹œ ìˆ˜ì • ê²€ì¦
========================================

ë¬¸ì œ: l í‚¤ë¡œ ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸° í›„ ë¼ë²¨ì´ ì•ˆ ë³´ì„
"""

print("=" * 80)
print("ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸° í›„ ë¼ë²¨ í‘œì‹œ ìˆ˜ì • ê²€ì¦")
print("=" * 80)
print()

print("ğŸ› ì‚¬ìš©ì ë³´ê³ :")
print()
print("ë¬¸ì œ:")
print("  - l í‚¤ë¡œ ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸°ë¥¼ í•˜ë©´ ë‹¤ë¥¸ ë¼ë²¨ë“¤ì´ ì•ˆ ë³´ì„")
print("  - ë‹¤ë¥¸ í˜ì´ì§€ ê°”ë‹¤ê°€ ë‹¤ì‹œ ì˜¤ë©´ ë³´ì„")
print("  - ì§€ì›Œì§€ì§„ ì•ŠëŠ” ê²ƒ ê°™ìŒ")
print()
print("ìš”êµ¬ì‚¬í•­:")
print("  - ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸° í•  ë•Œ ê¸°ì¡´ ë¼ë²¨ë“¤ì€ ê³„ì† ë³´ì—¬ì¤˜ì•¼ í•¨")
print()

print("=" * 80)
print("ê·¼ë³¸ ì›ì¸ ë¶„ì„")
print("=" * 80)
print()

print("ğŸ” ë¬¸ì œ: load_masking()ì—ì„œ bboxë¥¼ ë‹¤ì‹œ ê·¸ë¦¬ì§€ ì•ŠìŒ")
print("-" * 80)
print()
print("\033[93m[ê¸°ì¡´ ì½”ë“œ]\033[0m")
print()
print("""def load_masking(self):
    # ...

    # ë§ˆìŠ¤í‚¹ì´ ì ìš©ëœ ì´ë¯¸ì§€ë¡œ í™”ë©´ í‘œì‹œ
    display_img = Image.fromarray(self.current_img_array)
    resized_img = display_img.resize(self.imsize, Image.LANCZOS)

    # ìº”ë²„ìŠ¤ ì—…ë°ì´íŠ¸
    self.canvas.image = ImageTk.PhotoImage(resized_img)
    self.canvas.create_image(0, 0, image=self.canvas.image, anchor='nw', tags="img")

    # ì´ë¯¸ì§€ íŒŒì¼ì— ë§ˆìŠ¤í‚¹ ì €ì¥
    img_to_save.save(self.im_fn)

    # ìº”ë²„ìŠ¤ ì •ë¦¬
    self.canvas.delete("polygon")
    self.canvas.delete("masking")

    print("ë§ˆìŠ¤í‚¹ì´ ë©”ëª¨ë¦¬ì— ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.")
    # âœ— í•¨ìˆ˜ ì¢…ë£Œ - bboxë¥¼ ë‹¤ì‹œ ê·¸ë¦¬ì§€ ì•ŠìŒ!""")
print()

print("\033[91m[ë¬¸ì œì ]\033[0m")
print("\033[91mâœ— - canvas.create_image()ë¡œ ë§ˆìŠ¤í‚¹ ì´ë¯¸ì§€ë§Œ ê·¸ë¦¼\033[0m")
print("\033[91mâœ— - ê¸°ì¡´ bbox(ë¼ë²¨)ëŠ” í™”ë©´ì— ê·¸ë ¤ì§€ì§€ ì•ŠìŒ\033[0m")
print("\033[91mâœ— - ë‹¤ë¥¸ í˜ì´ì§€ ê°”ë‹¤ê°€ ì˜¤ë©´ draw_image()ê°€ bboxë¥¼ ê·¸ë ¤ì„œ ë³´ì„\033[0m")
print("\033[91mâœ— - í•˜ì§€ë§Œ í˜„ì¬ í˜ì´ì§€ì—ì„œëŠ” ì•ˆ ë³´ì„\033[0m")
print()

print("\033[92m[ìˆ˜ì • í›„]\033[0m")
print()
print("""def load_masking(self):
    # ...

    # ë§ˆìŠ¤í‚¹ì´ ì ìš©ëœ ì´ë¯¸ì§€ë¡œ í™”ë©´ í‘œì‹œ
    display_img = Image.fromarray(self.current_img_array)
    resized_img = display_img.resize(self.imsize, Image.LANCZOS)

    # ìº”ë²„ìŠ¤ ì—…ë°ì´íŠ¸
    self.canvas.image = ImageTk.PhotoImage(resized_img)
    self.canvas.create_image(0, 0, image=self.canvas.image, anchor='nw', tags="img")

    # ì´ë¯¸ì§€ íŒŒì¼ì— ë§ˆìŠ¤í‚¹ ì €ì¥
    img_to_save.save(self.im_fn)

    # ìº”ë²„ìŠ¤ ì •ë¦¬
    self.canvas.delete("polygon")
    self.canvas.delete("masking")

    print("ë§ˆìŠ¤í‚¹ì´ ë©”ëª¨ë¦¬ì— ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.")

    # ë¼ë²¨(bbox) ë‹¤ì‹œ ê·¸ë¦¬ê¸°
    self.draw_bbox()  # âœ“ bboxë¥¼ ë‹¤ì‹œ ê·¸ë ¤ì„œ í™”ë©´ì— í‘œì‹œ!""")
print()

print("=" * 80)
print("ë™ì‘ íë¦„ ë¹„êµ")
print("=" * 80)
print()

print("ì‹œë‚˜ë¦¬ì˜¤: l í‚¤ë¡œ ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸°")
print("-" * 80)
print()
print("1ï¸âƒ£ ê¸°ì¡´ ë™ì‘ (ë²„ê·¸)")
print("  1. l í‚¤ ëˆ„ë¦„")
print("  2. load_masking() í˜¸ì¶œ")
print("     - ë§ˆìŠ¤í‚¹ ì´ë¯¸ì§€ë¥¼ canvasì— ê·¸ë¦¼")
print("     - ì´ë¯¸ì§€ íŒŒì¼ì— ì €ì¥")
print("     - canvas ì •ë¦¬ (polygon, masking ì‚­ì œ)")
print("  3. í•¨ìˆ˜ ì¢…ë£Œ")
print("\033[91mâœ—  4. bboxê°€ í™”ë©´ì— ê·¸ë ¤ì§€ì§€ ì•ŠìŒ!\033[0m")
print("\033[91mâœ—  5. ì‚¬ìš©ì: ë¼ë²¨ì´ ì•ˆ ë³´ì„\033[0m")
print()
print("  6. ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´ë™")
print("  7. ë‹¤ì‹œ ëŒì•„ì˜´ â†’ draw_image() í˜¸ì¶œ")
print("     - ì´ë¯¸ì§€ ë¡œë“œ")
print("     - draw_bbox() í˜¸ì¶œ")
print("\033[92mâœ“  8. ì´ì œ bboxê°€ ë³´ì„\033[0m")
print()

print("2ï¸âƒ£ ìˆ˜ì •ëœ ë™ì‘")
print("  1. l í‚¤ ëˆ„ë¦„")
print("  2. load_masking() í˜¸ì¶œ")
print("     - ë§ˆìŠ¤í‚¹ ì´ë¯¸ì§€ë¥¼ canvasì— ê·¸ë¦¼")
print("     - ì´ë¯¸ì§€ íŒŒì¼ì— ì €ì¥")
print("     - canvas ì •ë¦¬ (polygon, masking ì‚­ì œ)")
print("\033[92mâœ“  3. draw_bbox() í˜¸ì¶œ\033[0m")
print("\033[92mâœ“  4. bboxê°€ ë§ˆìŠ¤í‚¹ ìœ„ì— ê·¸ë ¤ì§\033[0m")
print("\033[92mâœ“  5. ì‚¬ìš©ì: ë¼ë²¨ì´ ì •ìƒ ë³´ì„!\033[0m")
print()

print("=" * 80)
print("ìº”ë²„ìŠ¤ ë ˆì´ì–´ ìˆœì„œ")
print("=" * 80)
print()

print("Canvas ë ˆì´ì–´ (ì•„ë˜â†’ìœ„):")
print()
print("  1. ë°°ê²½ (ì´ë¯¸ì§€)")
print("     â†“")
print("  2. ë§ˆìŠ¤í‚¹ (ë¶„í™ìƒ‰ [255,0,255])")
print("     â†“")
print("  3. bbox (ë¼ë²¨ ë°•ìŠ¤)  â† draw_bbox()ë¡œ ê·¸ë¦¼")
print("     â†“")
print("  4. ì œì™¸ ì˜ì—­ í‘œì‹œ")
print()

print("ë¬¸ì œ:")
print("  - load_masking()ì´ ë ˆì´ì–´ 1, 2ë§Œ ê·¸ë¦¬ê³  ì¢…ë£Œ")
print("  - ë ˆì´ì–´ 3 (bbox)ì´ ê·¸ë ¤ì§€ì§€ ì•ŠìŒ")
print()

print("í•´ê²°:")
print("  - load_masking() ëì— draw_bbox() ì¶”ê°€")
print("  - ë ˆì´ì–´ 3ë„ ê·¸ë ¤ì ¸ì„œ ì™„ì „í•œ í™”ë©´ í‘œì‹œ")
print()

print("=" * 80)
print("ìˆ˜ì • ìš”ì•½")
print("=" * 80)
print()

print("1ï¸âƒ£ load_masking() ìˆ˜ì • (ë¼ì¸ 4089-4090)")
print("-" * 80)
print("\033[92mâœ“ - í•¨ìˆ˜ ëì— self.draw_bbox() ì¶”ê°€\033[0m")
print("\033[92mâœ“ - ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸° í›„ ê¸°ì¡´ ë¼ë²¨ë„ í‘œì‹œ\033[0m")
print()

print("=" * 80)
print("ì˜ˆìƒ ê²°ê³¼")
print("=" * 80)
print()

print("âœ… ìˆ˜ì • íš¨ê³¼:")
print("\033[92mâœ“ 1. l í‚¤ë¡œ ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸° ì‹œ ë¼ë²¨ ì¦‰ì‹œ í‘œì‹œ\033[0m")
print("\033[92mâœ“ 2. ê¸°ì¡´ ë¼ë²¨ë“¤ì´ ê³„ì† ë³´ì„\033[0m")
print("\033[92mâœ“ 3. í˜ì´ì§€ ì´ë™ ì—†ì´ë„ ì •ìƒ í‘œì‹œ\033[0m")
print("\033[92mâœ“ 4. ë§ˆìŠ¤í‚¹ê³¼ ë¼ë²¨ì´ í•¨ê»˜ í‘œì‹œë¨\033[0m")
print()

print("ğŸ” ì¶”ê°€ ì´ì :")
print("  - ì¼ê´€ëœ í™”ë©´ í‘œì‹œ (draw_image()ì™€ ë™ì¼)")
print("  - ì‚¬ìš©ì í˜¼ë€ ë°©ì§€")
print("  - ì¦‰ê°ì ì¸ í”¼ë“œë°± ì œê³µ")
print()

print("=" * 80)
print("í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸")
print("=" * 80)
print()

print("[ ] 1. ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸° í…ŒìŠ¤íŠ¸")
print("      - ì²« ì´ë¯¸ì§€ì—ì„œ ë§ˆìŠ¤í‚¹ ìƒì„± (m + s)")
print("      - ë‹¤ìŒ ì´ë¯¸ì§€ë¡œ ì´ë™ (ê¸°ì¡´ ë¼ë²¨ ìˆìŒ)")
print("      - l í‚¤ë¡œ ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸°")
print("      - ê¸°ì¡´ ë¼ë²¨ì´ ì¦‰ì‹œ ë³´ì´ëŠ”ì§€ í™•ì¸")
print()

print("[ ] 2. ì—¬ëŸ¬ ë¼ë²¨ í…ŒìŠ¤íŠ¸")
print("      - ì—¬ëŸ¬ ê°œì˜ ë¼ë²¨ì´ ìˆëŠ” ì´ë¯¸ì§€")
print("      - l í‚¤ë¡œ ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸°")
print("      - ëª¨ë“  ë¼ë²¨ì´ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸")
print()

print("[ ] 3. ì œì™¸ ì˜ì—­ í‘œì‹œ í…ŒìŠ¤íŠ¸")
print("      - ì œì™¸ ì˜ì—­ì´ ì„¤ì •ëœ ìƒíƒœ")
print("      - l í‚¤ë¡œ ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸°")
print("      - ì œì™¸ ì˜ì—­ í‘œì‹œë„ ì •ìƒì¸ì§€ í™•ì¸")
print()

print("=" * 80)
print("ê²°ë¡ ")
print("=" * 80)
print()

print("\033[92mâœ… ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸° í›„ ë¼ë²¨ í‘œì‹œ ë¬¸ì œ í•´ê²° ì™„ë£Œ\033[0m")
print()
print("ìˆ˜ì •ëœ í•¨ìˆ˜:")
print("\033[92mâœ“ 1. load_masking() - draw_bbox() í˜¸ì¶œ ì¶”ê°€\033[0m")
print()
print("ì˜ˆìƒ íš¨ê³¼:")
print("\033[92mâœ“ âœ“ ë§ˆìŠ¤í‚¹ ë¶™ì—¬ë„£ê¸° ì‹œ ë¼ë²¨ ì¦‰ì‹œ í‘œì‹œ\033[0m")
print("\033[92mâœ“ âœ“ ê¸°ì¡´ ë¼ë²¨ë“¤ ê³„ì† ë³´ì„\033[0m")
print("\033[92mâœ“ âœ“ í˜ì´ì§€ ì´ë™ ì—†ì´ë„ ì •ìƒ ë™ì‘\033[0m")
print()
print("\033[94mì»¤ë°‹ ì¤€ë¹„ ì™„ë£Œ âœ“\033[0m")
